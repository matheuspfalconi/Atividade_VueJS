<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Home - Livraria UmDois</title>
	    <script src="https://unpkg.com/vue@2"></script>
	    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />

	    <style type="text/css">

	    	/*=========Estilo Geral==========*/
	    	
	    	* {
	    		padding: 0px;
	    		margin: 0px;
 	    		list-style: none;
	    	}

	    	body {
	    		width: 100%;
	    		height: 100%;
	    	}

	    	.container {
	    		width: 100%;
	    		height: 100%;
	    	}

	    	.button {
	    		width: 200px;
	    		height: 45px;
	    		border: 1px solid black;
	    		background-color: white;
	    		cursor: pointer;
	    		text-align: center;
	    		border-radius: 25px;
	    	}

	    	.list_button {
	    		display: flex;
	    		width: 430px;
	    		flex-wrap: nowrap;
	    		justify-content: space-between;
	    		margin: 0 15px;
	    	}

 	    	.aba_title {
 	    		text-align: center;
 	    	}

	    	input {
	    		padding-left: 20px;
	    	}

	    	/*=========Estilo Cabeçalho==========*/

	    	header {
	    		position: fixed;
	    		width: 100%;
	    		height: 45px;
	    		background-color: white;
	    	}

	    	.div_cabecalho {
	    		display: flex;
	    		flex-wrap: nowrap;
	    		justify-content: space-between;
	    		color: white;
	    		margin: 10px;
	    	}

	    	.div_logo {
	    		width: 200px;
	    		height: auto;
	    		background-image: url("https://logodownload.org/wp-content/uploads/2014/10/saraiva-logo-3.png");
	    		background-repeat: no-repeat;
	    		background-size: contain;
	    	}

	    	.lista_links_navbar {
	    		width: 250px;
	    		display: flex;
	    		padding: 10px 0;
	    		flex-wrap: nowrap;
	    		justify-content: space-around;
	    	}

	    	.lista_links_navbar > a {
	    		text-decoration: none;
	    		color: black;
	    	}

	    	.lista_links_navbar > a:hover {
	    		color: orange;
	    	}

	    	#on_link {
	    		color: orange;
 	    	}

 	    	.line {
 	    		width: 100%
 	    		height: 1px;
 	    		margin: 0 10px;
 	    		border-bottom: 1px solid lightgray;
 	    	}

 	    	/*=========Estilo Main==========*/

 	    	.content {
 	    		width: 100%;
 	    		height: auto;
 	    	}

 	    	#aba_autores, #aba_livros, #aba_cadastrar_autor, #aba_editar_autor, #aba_cadastrar_livro, #aba_editar_livro {
 	    		padding: 100px 30px 60px 30px;
 	    	}

 	    	.lista_autores, .lista_livros {
 	    		display: flex;
 	    		flex-wrap: wrap;
 	    		justify-content: flex-start;
 	    		margin-top: 30px;
 	    	}

 	    	.li_autores, .li_livros {
 	    		width: 180px;
 	    		height: auto;
 	    		margin: 0 15px 30px 15px;
 	    		display: flex;
 	    		flex-wrap: wrap;
 	    		justify-content: center;
 	    		border: 1px solid gray;
 	    		border-radius: 25px;
 	    	}

 	    	.div_img_autores, .div_img_livros {
 	    		width: 180px;
 	    		height: 200px;
 	    	}

 	    	.img_autores, .img_livros {
 	    		width: 100%;
 	    		height: 100%;
 	    		border-radius: 25px 25px 0 0;
 	    	}

 	    	.div_desc_autores, .div_desc_livros {
 	    		display: flex;
 	    		flex-wrap: wrap;
 	    		width: 180px;
 	    		justify-content: center;
 	    	}

 	    	.autores_name, .livros_title {
 	    		text-decoration: none;
 	    		color: black;
 	    		text-align: center;
 	    		font-size: 16px;
 	    		padding-top: 10px;
 	    		width: 180px;
 	    	}

 	    	.list_buttons_autores {
 	    		display: flex;
 	    		flex-wrap: nowrap;
 	    		justify-content: space-between;
 	    		width: 50px;
 	    	}

 	    	.buttons_autores {
 	    		color: black;
 	    		text-decoration: none;
 	    		padding: 5px 0;
 	    	}

 	    	#edit_button:hover {
 	    		color: green;
 	    	}

 	    	#delete_button:hover {
 	    		color: red;
 	    	}

 	    	/*=========Estilo Cadastrar Autor============*/

 	    	.div_form_cadastro_autor {
 	    		display: flex;
 	    		justify-content: center;
 	    		margin-bottom: 200px;
 	    	}

 	    	.form_cadastro_autor {
 	    		width: 600px;
 	    		height: auto;
 	    		margin-top: 30px;
 	    		display: flex;
 	    		flex-wrap: wrap;
 	    		justify-content: center;
 	    		text-align: center;
 	    	}

 	    	.form_cadastro_autor > li {
 	    		width: 100%;
 	    	}

 	    	#cadastro_img, #cadastro_nome, #cadastro_editora, #cadastro_ano, #cadastro_preco{
 	    		width: 90%;
 	    		height: 45px;
 	    		margin-bottom: 10px;
 	    	}


 	    	/*=========Estilo Livros=============*/

 	    	.livros_title {	
 	    		border-bottom: 1px solid gray;
 	    	}

 	  		.livros_editora {
 	  			padding-top: 5px;
 	  		}

 	    	.livros_editora, .livros_preco, .livros_ano {
 	    		width: 100%;
 	    		padding-left: 5px;
 	    	}

 	    	/*=========Estilo Footer==========*/

 	    	.div_footer {
 	    		background-color: #0a1591;
 	    		display: flex;
 	    		flex-wrap: nowrap;
 	    		justify-content: space-between;
 	    		padding: 30px 200px;
 	    		color: white;
 	    	}

 	    	.section_footer > h2 {
 	    		margin-bottom: 10px;

 	    	}

 	    	.footer_links {
 	    		margin-bottom: 5px;
 	    	}

 	    	.footer_lista_links > a {
 	    		text-decoration: none;
 	    		color: gray;
 	    	}

 	    	.footer_lista_links > a:hover {
 	    		color: orange;
 	    	}

	    </style>
	</head>

	<body>
		<div class="container" id="app">
			<header>
				<div class="div_cabecalho">
					<div class="div_logo"></div>

					<nav class="div_navbar">
						<ul class="lista_links_navbar">
							<a href=""><li class="links_navbar">Home</li></a>
							<a href=""><li id="on_link" class="links_navbar">Autores</li></a>
							<a href=""><li class="links_navbar">Fale Conosco</li></a>
						</ul>
					</nav>
				</div>

				<div class="line"></div>
			</header>
			
			<main class="content">

				<!-- =========================Autores============================= -->
				<div v-if="abas.autores" id="aba_autores">
					<div class="aba_title">
						<h1>Nossos Autores</h1>
					</div>

					<ul class="lista_autores" v-if="listaAutores.length">
						<li class="li_autores" v-for="(autor, index) in listaAutores" @click="mostrarLivros(index)">
							<div class="div_img_autores">
								<img :src="autor.src" class="img_autores">
							</div>

							<div class="div_desc_autores">
								<h2 class="autores_name">{{autor.nome}}</h2>
								<ul class="list_buttons_autores">
									<li class="buttons_autores" @click="editAutor(index)"><span class="material-symbols-outlined" id="edit_button">edit</span></li></a>
									<li class="buttons_autores" @click="deleteAutor(index)"><span class="material-symbols-outlined" id="delete_button">delete</span></li></a>
								</ul>
							</div>
						</li>
					</ul>

					<div class="list_button">
						<div class="button" id="button_cadastrar_autor" v-on:click="trocarAbas(3)" :class="{selected: abas.cadastrar_autor}">
							<span>Cadastrar Autor</span>
							<span class="material-symbols-outlined">add</span>
						</div>
					</div>
				</div>

				<!-- ===========================Cadastrar Autor========================= -->

				<div v-if="abas.cadastrar_autor" id="aba_cadastrar_autor">
					<div class="aba_title">
						<h1>Cadastrar Autor</h1>
					</div>

					<div class="div_form_cadastro_autor">
						<ul class="form_cadastro_autor">
							<li><input type="text" placeholder="Insira a url da imagem do autor" v-model="temp_autor.src" id="cadastro_img" ></li>
							<li><input type="text" placeholder="Insira o nome do autor" v-model="temp_autor.nome" id="cadastro_nome"></li>

							<ul class="list_button">
								<li><button @click="salvarAutor" class="button">Salvar</button></li>
								<li><button @click="trocarAbas(1)" class="button buttonVoltar">Voltar</button></li>
							</ul>
						</ul>
					</div>
				</div>

				<!-- ===========================Editar Autor============================= -->

				<div v-if="abas.editar_autor" id="aba_editar_autor">
					<div class="aba_title">
						<h1>Editar Autor</h1>
					</div>

					<div class="div_form_cadastro_autor">
						<ul class="form_cadastro_autor">
							<li><input type="text" v-model="temp_autor.src" id="cadastro_img"></li>
							<li><input type="text" v-model="temp_autor.nome" id="cadastro_nome"></li>

							<ul class="list_button">
								<li><button @click="salvarAutor" class="button">Salvar</button></li> 
								<li><button @click="trocarAbas(1)" class="button">Voltar</button></li>
							</ul>
						</ul>
					</div>
				</div>

				<!-- ================================Livros========================= -->

				<div v-if="abas.livros" id="aba_livros">
					<div class="aba_title">
						<h1>Livros {{temp_autor.nome}}</h1>
					</div>

					<ul class="lista_livros">
						<li class="li_livros" v-for="(livro, index) in listaLivros" v-if="livro.idAutor == temp_autor.id">
							<div class="div_img_livros">
								<img :src="livro.src" class="img_livros">
							</div>

							<div class="div_desc_livros">
								<h2 class="livros_title">{{livro.titulo}}</h2>
								<p class="livros_editora">Editora: {{livro.editora}}</p>
								<p class="livros_ano">Ano: {{livro.ano}}</p>
								<p class="livros_preco">Preço {{livro.preco}}</p>
								<ul class="list_buttons_autores">
									<li class="buttons_autores" @click="editLivro(index)"><span class="material-symbols-outlined" id="edit_button">edit</span></li></a>
									<li class="buttons_autores" @click="deleteLivro(index)"><span class="material-symbols-outlined" id="delete_button">delete</span></li></a>
								</ul>
							</div>
						</li>
					</ul>



					<ul class="list_button button_center">
						<li><button @click="trocarAbas(1)" class="button">Voltar</button></li>


						<li class="button" id="button_cadastrar_livro" v-on:click="trocarAbas(5)" :class="{selected: abas.cadastrar_livro}">
							<span>Cadastrar Livro</span>
							<span class="material-symbols-outlined">add</span>
						</li>
					</ul>
				</div>

				<!-- ===========================Editar Livros============================= -->

				<div v-if="abas.editar_livro" id="aba_editar_livro">
					<div class="aba_title">
						<h1>Editar Livro</h1>
					</div>

					<div class="div_form_cadastro_autor">
						<ul class="form_cadastro_autor">
							<li><input type="text" v-model="temp_livro.src" id="cadastro_img"></li>
							<li><input type="text" v-model="temp_livro.titulo" id="cadastro_nome"></li>
							<li><input type="text" v-model="temp_livro.editora" id="cadastro_editora"></li>
							<li><input type="text" v-model="temp_livro.preco" id="cadastro_preco"></li>
							<li><input type="text" v-model="temp_livro.ano" id="cadastro_ano"></li>

							<ul class="list_button">
								<li><button @click="salvarLivro" class="button">Salvar</button></li>
								<li><button @click="trocarAbas(2)" class="button">Voltar</button></li>
							</ul>
						</ul>
					</div>
				</div>

				<!-- ==========================Cadastrar Livros=========================== -->

				<div v-if="abas.cadastrar_livro" id="aba_cadastrar_livro">
					<div class="aba_title">
						<h1>Cadastrar Livro de {{temp_autor.nome}}</h1>
					</div>

					<div class="div_form_cadastro_autor">
						<ul class="form_cadastro_autor">
							<li><input type="text" id="cadastro_img" v-model="temp_livro.src" placeholder="Url da imagem do livro"></li>
							<li><input type="text" id="cadastro_nome" v-model="temp_livro.titulo" placeholder="Título"></li>
							<li><input type="text" id="cadastro_editora" v-model="temp_livro.editora" placeholder="Editora"></li>
							<li><input type="text" id="cadastro_preco" v-model="temp_livro.preco" placeholder="Preço"></li>
							<li><input type="text" id="cadastro_ano" v-model="temp_livro.ano" placeholder="Ano"></li>

							<ul class="list_button">
								<li><button @click="salvarLivro" class="button">Salvar</button></li>
								<li><button @click="trocarAbas(2)" class="button buttonVoltar">Voltar</button></li>
							</ul>
						</ul>
					</div>
				</div>


			</main>

			<!-- ===========================Footer========================== -->
			
			<footer class="div_footer">
				<div id="footer_info" class="section_footer">
					<h2>Informações</h2>

					<ul class="footer_lista_links">
						<a href=""><li class="footer_links">Quem Somos</li></a>
						<a href=""><li class="footer_links">Segurança</li></a>
						<a href=""><li class="footer_links">Política de Privacidade</li></a>
						<a href=""><li class="footer_links">Política de Troca</li></a>
					</ul>
				</div>
				
				<div id="footer_client" class="section_footer">
					<h2>Serviços ao Cliente</h2>

					<ul class="footer_lista_links">
						<a href=""><li class="footer_links">Fale Conosco</li></a>
						<a href=""><li class="footer_links">Link do Site</li></a>
						<a href=""><li class="footer_links">Nossas Lojas</li></a>
						<a href=""><li class="footer_links">Trabalhe Conosco</li></a>
					</ul>
				</div>
				
				<div id="footer_talk" class="section_footer">
					<h2>Fale Conosco</h2>

					<ul class="footer_lista_links">
						<a href=""><li class="footer_links">(31) 3132-3234</li></a>
						<a href=""><li class="footer_links">(31) 3134-5623</li></a>
						<a href=""><li class="footer_links">sac@livrariaumdois.com</li></a>
						<a href=""><li class="footer_links">Política de Troca</li></a>
					</ul>
				</div>

				<div id="footer_account" class="section_footer">
					<h2>Minha Conta</h2>

					<ul class="footer_lista_links">
						<a href=""><li class="footer_links">Minha Conta</li></a>
						<a href=""><li class="footer_links">Histórico de Pedidos</li></a>
						<a href=""><li class="footer_links">Lista de Desejos</li></a>
						<a href=""><li class="footer_links">Informativo</li></a>
					</ul>
				</div>
			</footer>
		</div>

		<!-- ======================================================================= -->

		<script type="text/javascript">
			let vm = new Vue({
				el: "#app",
				data: {
					abas: {
	                    autores: true,
	                    livros: false,
	                    cadastrar_autor: false,
	                    editar_autor: false,
	                    cadastrar_livro: false,
	                    editar_livro: false,	
 	                },

					variavel: 1,
	                
	                variavelLivro: -1,
 	                
 	                temp_autor: {
 	                	id: -1,
 	                	src: "",
 	                	nome: "",
 	                },

 	                listaAutores: [
	                    {id: 1,
	                    src: "https://s4.static.brasilescola.uol.com.br/be/2022/07/retrato-de-machado-de-assis.jpg",
	                    nome: "Machado de Assis",
	                    },
	                    {id: 2,
	                    src: "http://1.bp.blogspot.com/-DRmtvzjZ34A/UZY9kwIaqBI/AAAAAAAAJLw/gS-ZGhTHrkM/s1600/guimaraes_rosa.jpg",
	                    nome: "Guimarães Rosa",
	                    },
	                ],

 	                temp_livro: {
 	                	id: -1,
 	                	titulo: "",
	                    src: "",
	                    preco: 0,
	                    editora: "",
	                    ano: "",
	                    idAutor: 0
 	                },

 	                listaLivros: [
 	                {
 	                	id: 1,
 	                	titulo: "Dom Casmurro",
 	                	src: "https://upload.wikimedia.org/wikipedia/commons/0/05/DomCasmurroMachadodeAssis.jpg",
 	                	preco: 23.50,
 	                	editora: "Casmurros",
 	                	ano: "2006",
 	                	idAutor: 1,
 	                },
 	                {
 	                	id: 2,
 	                	titulo: "Memórias Póstumas de Brás Cubas",
 	                	src: "https://i.zst.com.br/thumbs/12/26/9/1458070635.jpg",
 	                	preco: 23.50,
 	                	editora: "Casmurros",
 	                	ano: "2006",
 	                	idAutor: 1,
 	                },
 	                {
 	                	id: 3,
 	                	titulo: "Grande Sertão: Veredas",
 	                	src: "https://m.media-amazon.com/images/I/91TxMwdCA8L.jpg",
 	                	preco: 23.50,
 	                	editora: "Guimarães",
 	                	ano: "2006",
 	                	idAutor: 2,
 	                }],

                	editarOn: false,
                	variavel: 1,
				},


				methods: {
					trocarAbas(num) {
	                    switch (num) {
	                        case 1:
	                            this.abas.autores = true
	                            this.abas.livros = false
	                            this.abas.cadastrar_autor = false
	                            this.abas.editar_autor = false
	                            this.abas.cadastrar_livro = false
	                            this.abas.editar_livro = false
	                            break

	                        case 2:
	                            this.abas.autores = false
	                            this.abas.livros = true
	                            this.abas.cadastrar_autor = false
	                            this.abas.editar_autor = false
	                            this.abas.cadastrar_livro = false
	                            this.abas.editar_livro = false
	                            break

	                        case 3:
	                            this.abas.autores = false
	                            this.abas.livros = false
	                            this.abas.cadastrar_autor = true
	                            this.abas.editar_autor = false
	                            this.abas.cadastrar_livro = false
	                            this.abas.editar_livro = false
	                            break

	                        case 4:
	                            this.abas.autores = false
	                            this.abas.livros = false
	                            this.abas.cadastrar_autor = false
	                            this.abas.editar_autor = true
	                            this.abas.cadastrar_livro = false
	                            this.abas.editar_livro = false
	                            break

	                    	case 5:
	                            this.abas.autores = false
	                            this.abas.livros = false
	                            this.abas.cadastrar_autor = false
	                            this.abas.editar_autor = false
	                            this.abas.cadastrar_livro = true
	                            this.abas.editar_livro = false
	                            break

	                    	case 6:
	                            this.abas.autores = false
	                            this.abas.livros = false
	                            this.abas.cadastrar_autor = false
	                            this.abas.editar_autor = false
	                            this.abas.cadastrar_livro = false
	                            this.abas.editar_livro = true
	                            break
	                    	}

	                	},

	                salvarAutor() {
	                    if (this.temp_autor.id > 0) {

	                        let aux_autor = this.listaAutores.find(t => t.id == this.temp_autor.id)

	                        aux_autor.id = this.temp_autor.id
	                        aux_autor.nome = this.temp_autor.nome
	                        aux_autor.src = this.temp_autor.src

	                        this.listaAutores[this.temp_autor.id - 1] = aux_autor
	                        this.limparformAutor()
	                        this.trocarAbas(1)

	                    }
	                    else {
	                        this.temp_autor.id = this.listaAutores.length + 1
	                        let novo_autor = Object.assign({}, this.temp_autor)
	                        this.listaAutores.push(novo_autor)
	                        this.limparformAutor()
	                        this.trocarAbas(1)
	                    }
                	},

                	salvarLivro() {
	                    if (this.editarOn) {

	                        let aux_livro = this.listaLivros.find(f => f.id == this.temp_livro.id)

	                        aux_livro.id = this.temp_livro.id
	                        aux_livro.titulo= this.temp_livro.titulo
	                        aux_livro.src = this.temp_livro.src
	                        aux_livro.preco = this.temp_livro.preco
	                        aux_livro.ano = this.temp_livro.ano
	                        aux_livro.idAutor = this.temp_autor.id

	                        this.listaLivros[this.temp_livro.id - 1] = aux_livro
	                        this.limparformLivro()
	                        this.trocarAbas(2)

	                    }
	                    else {
	                        this.temp_livro.id = this.listaLivros.length + 1
	                        this.temp_livro.idAutor = this.temp_autor.id
	                        let novo_livro = Object.assign({}, this.temp_livro)
	                        this.listaLivros.push(novo_livro)
	                        this.limparformLivro()
	                        this.trocarAbas(2)
	                    }
                	},

                	limparformAutor() {
	                    this.temp_autor.nome = ""
	                    this.temp_autor.id = -1
	                    this.temp_autor.src = ""
	                },

	                limparformLivro() {
 	                	this.temp_livro.id = -1
 	                	this.temp_livro.titulo = ""
	                    this.temp_livro.src = ""
	                    this.temp_livro.preco = 0
	                    this.temp_livro.editora = ""
	                    this.temp_livro.ano = ""
	                    this.temp_livro.isbn = ""
	                    this.temp_livro.idAutor = -1
                    	this.editarOn = false
	                },

	                deleteAutor(index) {
                    	this.listaAutores.splice(index, 1)
	                },

	                deleteLivro(index) {
                    	this.listaLivros.splice(index, 1)
	                },

	                editAutor(index) {
	                    this.temp_autor.id = this.listaAutores[index].id
	                    this.temp_autor.nome = this.listaAutores[index].nome
	                    this.temp_autor.src = this.listaAutores[index].src

	                    this.abas.autores = false
	                    this.abas.editar_autor = true
	                },

	                editLivro(index) {
	                    this.temp_livro.id = this.listaLivros[index].id
	                    this.temp_livro.titulo = this.listaLivros[index].titulo
	                    this.temp_livro.src = this.listaLivros[index].src
	                    this.temp_livro.ano = this.listaLivros[index].ano
	                    this.temp_livro.editora = this.listaLivros[index].editora
	                    this.temp_livro.preco = this.listaLivros[index].preco

	                    this.editarOn = true;

	                    this.abas.livros = false
	                    this.abas.editar_livro = true
	                },

	                mostrarLivros(index) {
	                	this.temp_autor.id = this.listaAutores[index].id
	                	this.temp_autor.nome = this.listaAutores[index].nome

	                	this.abas.autores = false
	                	this.abas.livros = true
	                }
                }
			})
		</script>
	</body>
</html>